\documentclass[usenames,dvipsnames]{beamer}
\usepackage{xcolor}
\usepackage{amsmath}
\usepackage{forest}
% \setbeameroption{show notes}
\usetheme{metropolis}

%% ODER: format ==         = "\mathrel{==}"
%% ODER: format /=         = "\neq "
%
%
\makeatletter
\@ifundefined{lhs2tex.lhs2tex.sty.read}%
  {\@namedef{lhs2tex.lhs2tex.sty.read}{}%
   \newcommand\SkipToFmtEnd{}%
   \newcommand\EndFmtInput{}%
   \long\def\SkipToFmtEnd#1\EndFmtInput{}%
  }\SkipToFmtEnd

\newcommand\ReadOnlyOnce[1]{\@ifundefined{#1}{\@namedef{#1}{}}\SkipToFmtEnd}
\usepackage{amstext}
\usepackage{amssymb}
\usepackage{stmaryrd}
\DeclareFontFamily{OT1}{cmtex}{}
\DeclareFontShape{OT1}{cmtex}{m}{n}
  {<5><6><7><8>cmtex8
   <9>cmtex9
   <10><10.95><12><14.4><17.28><20.74><24.88>cmtex10}{}
\DeclareFontShape{OT1}{cmtex}{m}{it}
  {<-> ssub * cmtt/m/it}{}
\newcommand{\texfamily}{\fontfamily{cmtex}\selectfont}
\DeclareFontShape{OT1}{cmtt}{bx}{n}
  {<5><6><7><8>cmtt8
   <9>cmbtt9
   <10><10.95><12><14.4><17.28><20.74><24.88>cmbtt10}{}
\DeclareFontShape{OT1}{cmtex}{bx}{n}
  {<-> ssub * cmtt/bx/n}{}
\newcommand{\tex}[1]{\text{\texfamily#1}}	% NEU

\newcommand{\Sp}{\hskip.33334em\relax}


\newcommand{\Conid}[1]{\mathit{#1}}
\newcommand{\Varid}[1]{\mathit{#1}}
\newcommand{\anonymous}{\kern0.06em \vbox{\hrule\@width.5em}}
\newcommand{\plus}{\mathbin{+\!\!\!+}}
\newcommand{\bind}{\mathbin{>\!\!\!>\mkern-6.7mu=}}
\newcommand{\rbind}{\mathbin{=\mkern-6.7mu<\!\!\!<}}% suggested by Neil Mitchell
\newcommand{\sequ}{\mathbin{>\!\!\!>}}
\renewcommand{\leq}{\leqslant}
\renewcommand{\geq}{\geqslant}
\usepackage{polytable}

%mathindent has to be defined
\@ifundefined{mathindent}%
  {\newdimen\mathindent\mathindent\leftmargini}%
  {}%

\def\resethooks{%
  \global\let\SaveRestoreHook\empty
  \global\let\ColumnHook\empty}
\newcommand*{\savecolumns}[1][default]%
  {\g@addto@macro\SaveRestoreHook{\savecolumns[#1]}}
\newcommand*{\restorecolumns}[1][default]%
  {\g@addto@macro\SaveRestoreHook{\restorecolumns[#1]}}
\newcommand*{\aligncolumn}[2]%
  {\g@addto@macro\ColumnHook{\column{#1}{#2}}}

\resethooks

\newcommand{\onelinecommentchars}{\quad-{}- }
\newcommand{\commentbeginchars}{\enskip\{-}
\newcommand{\commentendchars}{-\}\enskip}

\newcommand{\visiblecomments}{%
  \let\onelinecomment=\onelinecommentchars
  \let\commentbegin=\commentbeginchars
  \let\commentend=\commentendchars}

\newcommand{\invisiblecomments}{%
  \let\onelinecomment=\empty
  \let\commentbegin=\empty
  \let\commentend=\empty}

\visiblecomments

\newlength{\blanklineskip}
\setlength{\blanklineskip}{0.66084ex}

\newcommand{\hsindent}[1]{\quad}% default is fixed indentation
\let\hspre\empty
\let\hspost\empty
\newcommand{\NB}{\textbf{NB}}
\newcommand{\Todo}[1]{$\langle$\textbf{To do:}~#1$\rangle$}

\EndFmtInput
\makeatother
%
%
%
%
%
%
% This package provides two environments suitable to take the place
% of hscode, called "plainhscode" and "arrayhscode". 
%
% The plain environment surrounds each code block by vertical space,
% and it uses \abovedisplayskip and \belowdisplayskip to get spacing
% similar to formulas. Note that if these dimensions are changed,
% the spacing around displayed math formulas changes as well.
% All code is indented using \leftskip.
%
% Changed 19.08.2004 to reflect changes in colorcode. Should work with
% CodeGroup.sty.
%
\ReadOnlyOnce{polycode.fmt}%
\makeatletter

\newcommand{\hsnewpar}[1]%
  {{\parskip=0pt\parindent=0pt\par\vskip #1\noindent}}

% can be used, for instance, to redefine the code size, by setting the
% command to \small or something alike
\newcommand{\hscodestyle}{}

% The command \sethscode can be used to switch the code formatting
% behaviour by mapping the hscode environment in the subst directive
% to a new LaTeX environment.

\newcommand{\sethscode}[1]%
  {\expandafter\let\expandafter\hscode\csname #1\endcsname
   \expandafter\let\expandafter\endhscode\csname end#1\endcsname}

% "compatibility" mode restores the non-polycode.fmt layout.

\newenvironment{compathscode}%
  {\par\noindent
   \advance\leftskip\mathindent
   \hscodestyle
   \let\\=\@normalcr
   \let\hspre\(\let\hspost\)%
   \pboxed}%
  {\endpboxed\)%
   \par\noindent
   \ignorespacesafterend}

\newcommand{\compaths}{\sethscode{compathscode}}

% "plain" mode is the proposed default.
% It should now work with \centering.
% This required some changes. The old version
% is still available for reference as oldplainhscode.

\newenvironment{plainhscode}%
  {\hsnewpar\abovedisplayskip
   \advance\leftskip\mathindent
   \hscodestyle
   \let\hspre\(\let\hspost\)%
   \pboxed}%
  {\endpboxed%
   \hsnewpar\belowdisplayskip
   \ignorespacesafterend}

\newenvironment{oldplainhscode}%
  {\hsnewpar\abovedisplayskip
   \advance\leftskip\mathindent
   \hscodestyle
   \let\\=\@normalcr
   \(\pboxed}%
  {\endpboxed\)%
   \hsnewpar\belowdisplayskip
   \ignorespacesafterend}

% Here, we make plainhscode the default environment.

\newcommand{\plainhs}{\sethscode{plainhscode}}
\newcommand{\oldplainhs}{\sethscode{oldplainhscode}}
\plainhs

% The arrayhscode is like plain, but makes use of polytable's
% parray environment which disallows page breaks in code blocks.

\newenvironment{arrayhscode}%
  {\hsnewpar\abovedisplayskip
   \advance\leftskip\mathindent
   \hscodestyle
   \let\\=\@normalcr
   \(\parray}%
  {\endparray\)%
   \hsnewpar\belowdisplayskip
   \ignorespacesafterend}

\newcommand{\arrayhs}{\sethscode{arrayhscode}}

% The mathhscode environment also makes use of polytable's parray 
% environment. It is supposed to be used only inside math mode 
% (I used it to typeset the type rules in my thesis).

\newenvironment{mathhscode}%
  {\parray}{\endparray}

\newcommand{\mathhs}{\sethscode{mathhscode}}

% texths is similar to mathhs, but works in text mode.

\newenvironment{texthscode}%
  {\(\parray}{\endparray\)}

\newcommand{\texths}{\sethscode{texthscode}}

% The framed environment places code in a framed box.

\def\codeframewidth{\arrayrulewidth}
\RequirePackage{calc}

\newenvironment{framedhscode}%
  {\parskip=\abovedisplayskip\par\noindent
   \hscodestyle
   \arrayrulewidth=\codeframewidth
   \tabular{@{}|p{\linewidth-2\arraycolsep-2\arrayrulewidth-2pt}|@{}}%
   \hline\framedhslinecorrect\\{-1.5ex}%
   \let\endoflinesave=\\
   \let\\=\@normalcr
   \(\pboxed}%
  {\endpboxed\)%
   \framedhslinecorrect\endoflinesave{.5ex}\hline
   \endtabular
   \parskip=\belowdisplayskip\par\noindent
   \ignorespacesafterend}

\newcommand{\framedhslinecorrect}[2]%
  {#1[#2]}

\newcommand{\framedhs}{\sethscode{framedhscode}}

% The inlinehscode environment is an experimental environment
% that can be used to typeset displayed code inline.

\newenvironment{inlinehscode}%
  {\(\def\column##1##2{}%
   \let\>\undefined\let\<\undefined\let\\\undefined
   \newcommand\>[1][]{}\newcommand\<[1][]{}\newcommand\\[1][]{}%
   \def\fromto##1##2##3{##3}%
   \def\nextline{}}{\) }%

\newcommand{\inlinehs}{\sethscode{inlinehscode}}

% The joincode environment is a separate environment that
% can be used to surround and thereby connect multiple code
% blocks.

\newenvironment{joincode}%
  {\let\orighscode=\hscode
   \let\origendhscode=\endhscode
   \def\endhscode{\def\hscode{\endgroup\def\@currenvir{hscode}\\}\begingroup}
   %\let\SaveRestoreHook=\empty
   %\let\ColumnHook=\empty
   %\let\resethooks=\empty
   \orighscode\def\hscode{\endgroup\def\@currenvir{hscode}}}%
  {\origendhscode
   \global\let\hscode=\orighscode
   \global\let\endhscode=\origendhscode}%

\makeatother
\EndFmtInput
%


\newcommand{\id}[1]{\textsf{\textsl{#1}}}
\renewcommand{\Varid}[1]{\textcolor{Sepia}{\id{#1}}}
\renewcommand{\Conid}[1]{\textcolor{OliveGreen}{\id{#1}}}
\usepackage{listings}
\usepackage{biblatex}
\bibliography{../Probability.bib}
\title{Probabilistic Functional Programming}
\author{Donnacha OisÃ­n Kidney}
\begin{document}
\frame{\titlepage}
\frame{\tableofcontents}
\section{Modeling Probability}
\begin{frame}
  How do we model stochastic and probabilistic processes in programming
  languages?
\end{frame}
\subsection{An Example}
\begin{frame}
  \frametitle{The Boy-Girl Paradox}
  \begin{enumerate}
    \item Mr. Jones has two children. The older child is a girl. What is the
      probability that both children are girls?
    \item \label{mrsmith} Mr. Smith has two children. At least one of them is a
      boy. What is the probability that both children are boys?
  \end{enumerate}
  \pause
  Is the answer to \ref{mrsmith} $\frac{1}{3}$ or $\frac{1}{2}$?
  \note{Gardner originally wrote that the second question (perhaps surprisingly)
    has the answer 1/3. However, he later acknowledged the question was
    ambiguous, and agreed that certain interpretations could correctly conclude
    its answer was 1/2}
  \pause

  Part of the difficulty in the question is that it's ambiguous: can we use
  programming languages to lend some precision?
\end{frame}
\begin{frame}[fragile, allowframebreaks]
  \frametitle{An Ad-Hoc Solution}
  Using normal features built in to the language.
  \begin{lstlisting}[language=Python]
from random import randrange, choice

class Child:
    def __init__(self):
        self.gender = choice(["boy", "girl"])
        self.age = randrange(18)
  \end{lstlisting}
  \begin{lstlisting}[language=Python]
from operator import attrgetter

def mr_jones():
    child_1 = Child()
    child_2 = Child()
    eldest = max(child_1, child_2,
                 key=attrgetter('age'))
    assert eldest.gender == 'girl'
    return [child_1, child_2]
  \end{lstlisting}
  \begin{lstlisting}[language=Python]

def mr_smith():
    child_1 = Child()
    child_2 = Child()
    assert child_1.gender == 'boy' or \
           child_2.gender == 'boy'
    return [child_1, child_2]
  \end{lstlisting}
\end{frame}
\subsection{Unclear Semantics}
\begin{frame}[fragile]
  \frametitle{Unclear semantics}
  What contracts are guaranteed by probabilistic functions? What does it mean
  \emph{exactly} for a function to be probabilistic? Why isn't the
  following\footfullcite{munroe_xkcd_2007} ``random''?
  \begin{lstlisting}[language=c]
int getRandomNumber()
{
  return 4; // chosen by fair dice roll.
            // guaranteed to be random.
}
  \end{lstlisting} 
\end{frame}
\begin{frame}[fragile]
  What about this?
  \begin{lstlisting}[language=Python]
  children_1 = [Child(), Child()]
  children_2 = [Child()] * 2
  \end{lstlisting}
  How can we describe the difference between \text{\tt children\char95{}1} and
  \text{\tt children\char95{}2}?
  \note{The first runs two random processes; the second only one. Both have the
    same types, both look like they do the same thing. We need a good way to
    describe the difference between them.}
\end{frame}
\subsection{Underpowered}
\begin{frame}[fragile]
  \frametitle{Underpowered}
  There are many more things we may want to do with probability distributions.

  What about expectations?
  \begin{lstlisting}[language=Python]
def expect(predicate, process, iterations=100):
    success, tot = 0, 0
    for _ in range(iterations):
        try:
            success += predicate(process())
            tot += 1
        except AssertionError:
            pass
    return success / tot
  \end{lstlisting}
  \note{This solution is both inefficient and inexact. Also, we may want to
    express other attributes of probability distributions: independence, for
    example.}
\end{frame}
\begin{frame}[fragile]
  \frametitle{The Ad-Hoc Solution}
  \begin{lstlisting}[language=Python]
expect(lambda children: all(child.gender == 'girl'
                            for child in children),
       mr_jones)
expect(lambda children: all(child.gender == 'boy'
                            for child in children),
       mr_smith)
  \end{lstlisting}
\end{frame}
\section{Monadic Modeling}
\begin{frame}
  \frametitle{A DSL}
  What we're approaching is a DSL, albeit an unspecified one.

  Three questions for this DSL:
  \begin{itemize}
    \item Why should we implement it? What is it useful for?
    \item How should we implement it? How can it be made efficient? 
    \item Can we glean any insights on the nature of probabilistic computations
      from the language? Are there any interesting symmetries?
  \end{itemize}
\end{frame}
\subsection{The Erwig And Kollmansberger Approach}
\begin{frame}[fragile]
  \frametitle{The Erwig And Kollmansberger Approach}
  First approach\footfullcite{erwig_functional_2006}:
  \begin{hscode}\SaveRestoreHook
\column{B}{@{}>{\hspre}l<{\hspost}@{}}%
\column{E}{@{}>{\hspre}l<{\hspost}@{}}%
\>[B]{}\textcolor{BlueViolet}{\textbf{newtype}}\;\Conid{Dist}\;\Varid{a}\mathrel{=}\Conid{Dist}\;\{\mskip1.5mu \Varid{runDist}\mathbin{::}[\mskip1.5mu (\Varid{a},\Conid{Rational})\mskip1.5mu]\mskip1.5mu\}{}\<[E]%
\ColumnHook
\end{hscode}\resethooks
  A distribution is a list of possible events, each tagged with a probability.
\end{frame}
\begin{frame}
  A random integer, then, is:
  \begin{hscode}\SaveRestoreHook
\column{B}{@{}>{\hspre}l<{\hspost}@{}}%
\column{E}{@{}>{\hspre}l<{\hspost}@{}}%
\>[B]{}\textcolor{BlueViolet}{\textbf{type}}\;\Conid{RandInt}\mathrel{=}\Conid{Dist}\;\Conid{Int}{}\<[E]%
\ColumnHook
\end{hscode}\resethooks
  This lets us encode (in the types) the difference between:
\begin{hscode}\SaveRestoreHook
\column{B}{@{}>{\hspre}l<{\hspost}@{}}%
\column{3}{@{}>{\hspre}l<{\hspost}@{}}%
\column{E}{@{}>{\hspre}l<{\hspost}@{}}%
\>[3]{}\Varid{children\char95 1}\mathbin{::}[\mskip1.5mu \Conid{Dist}\;\Conid{Child}\mskip1.5mu]{}\<[E]%
\\
\>[3]{}\Varid{children\char95 2}\mathbin{::}\Conid{Dist}\;[\mskip1.5mu \Conid{Child}\mskip1.5mu]{}\<[E]%
\ColumnHook
\end{hscode}\resethooks
\end{frame}
\begin{frame}[fragile]
  As we will use this as a DSL, we need to define the language features we used
  above:
\begin{lstlisting}[language=Python]
def mr_smith():
    child_1 = Child()
    child_2 = Child()
    assert child_1.gender == 'boy' or \
           child_2.gender == 'boy'
    return [child_1, child_2]
\end{lstlisting}
  \begin{enumerate}
    \item \text{\tt \char61{}} (assignment)
    \item \text{\tt assert}
    \item \text{\tt return}
  \end{enumerate}
\end{frame}
\begin{frame}
  \frametitle{Assignment}
  This is encapsulated by the ``monadic bind'':
  \begin{hscode}\SaveRestoreHook
\column{B}{@{}>{\hspre}l<{\hspost}@{}}%
\column{5}{@{}>{\hspre}l<{\hspost}@{}}%
\column{E}{@{}>{\hspre}l<{\hspost}@{}}%
\>[5]{}(\bind )\mathbin{::}\Conid{Dist}\;\Varid{a}\to (\Varid{a}\to \Conid{Dist}\;\Varid{b})\to \Conid{Dist}\;\Varid{b}{}\<[E]%
\ColumnHook
\end{hscode}\resethooks
  When we assign to a variable in a probabilistic computation, everything that
  comes later is conditional on the result of that assignment. We are therefore
  looking for the probability of the continuation given the left-hand-side; this
  is encapsulated by multiplication:
  \begin{hscode}\SaveRestoreHook
\column{B}{@{}>{\hspre}l<{\hspost}@{}}%
\column{5}{@{}>{\hspre}l<{\hspost}@{}}%
\column{22}{@{}>{\hspre}c<{\hspost}@{}}%
\column{22E}{@{}l@{}}%
\column{25}{@{}>{\hspre}l<{\hspost}@{}}%
\column{E}{@{}>{\hspre}l<{\hspost}@{}}%
\>[5]{}\Varid{xs}\bind \Varid{f}\mathrel{=}\Conid{Dist}\;{}\<[22]%
\>[22]{}[\mskip1.5mu {}\<[22E]%
\>[25]{}(\Varid{y},\Varid{xp}\times\Varid{yp}){}\<[E]%
\\
\>[22]{}\mid {}\<[22E]%
\>[25]{}(\Varid{x},\Varid{xp})\leftarrow \Varid{runDist}\;\Varid{xs}{}\<[E]%
\\
\>[22]{},{}\<[22E]%
\>[25]{}(\Varid{y},\Varid{yp})\leftarrow \Varid{runDist}\;(\Varid{f}\;\Varid{x})\mskip1.5mu]{}\<[E]%
\ColumnHook
\end{hscode}\resethooks
\end{frame}
\begin{frame}
  \frametitle{Assertion}
  Assertion is a kind of conditioning: given a statement about an event, it
  either occurs or it doesn't.
  \begin{hscode}\SaveRestoreHook
\column{B}{@{}>{\hspre}l<{\hspost}@{}}%
\column{5}{@{}>{\hspre}l<{\hspost}@{}}%
\column{18}{@{}>{\hspre}l<{\hspost}@{}}%
\column{E}{@{}>{\hspre}l<{\hspost}@{}}%
\>[5]{}\Varid{guard}\mathbin{::}\Conid{Bool}\to \Conid{Dist}\;(){}\<[E]%
\\
\>[5]{}\Varid{guard}\;\Conid{True}{}\<[18]%
\>[18]{}\mathrel{=}\Conid{Dist}\;[\mskip1.5mu ((),\mathrm{1})\mskip1.5mu]{}\<[E]%
\\
\>[5]{}\Varid{guard}\;\Conid{False}{}\<[18]%
\>[18]{}\mathrel{=}\Conid{Dist}\;[\mskip1.5mu \mskip1.5mu]{}\<[E]%
\ColumnHook
\end{hscode}\resethooks
\end{frame}
\begin{frame}
  \frametitle{Return}
  Return is the ``unit'' value for a distribution; the certain event, the
  unconditional distribution.
  \begin{hscode}\SaveRestoreHook
\column{B}{@{}>{\hspre}l<{\hspost}@{}}%
\column{5}{@{}>{\hspre}l<{\hspost}@{}}%
\column{E}{@{}>{\hspre}l<{\hspost}@{}}%
\>[5]{}\Varid{return}\mathbin{::}\Varid{a}\to \Conid{Dist}\;\Varid{a}{}\<[E]%
\\
\>[5]{}\Varid{return}\;\Varid{x}\mathrel{=}\Conid{Dist}\;[\mskip1.5mu (\Varid{x},\mathrm{1})\mskip1.5mu]{}\<[E]%
\ColumnHook
\end{hscode}\resethooks
\end{frame}
\begin{frame}
  \frametitle{Putting it all Together}
  \begin{hscode}\SaveRestoreHook
\column{B}{@{}>{\hspre}l<{\hspost}@{}}%
\column{5}{@{}>{\hspre}l<{\hspost}@{}}%
\column{7}{@{}>{\hspre}l<{\hspost}@{}}%
\column{E}{@{}>{\hspre}l<{\hspost}@{}}%
\>[5]{}\Varid{mrSmith}\mathbin{::}\Conid{Dist}\;[\mskip1.5mu \Conid{Child}\mskip1.5mu]{}\<[E]%
\\
\>[5]{}\Varid{mrSmith}\mathrel{=}\textcolor{BlueViolet}{\textbf{do}}{}\<[E]%
\\
\>[5]{}\hsindent{2}{}\<[7]%
\>[7]{}\Varid{child1}\leftarrow \Varid{child}{}\<[E]%
\\
\>[5]{}\hsindent{2}{}\<[7]%
\>[7]{}\Varid{child2}\leftarrow \Varid{child}{}\<[E]%
\\
\>[5]{}\hsindent{2}{}\<[7]%
\>[7]{}\Varid{guard}\;(\Varid{gender}\;\Varid{child1}\equiv \Conid{Boy}\mathrel{\vee}\Varid{gender}\;\Varid{child2}\equiv \Conid{Boy}){}\<[E]%
\\
\>[5]{}\hsindent{2}{}\<[7]%
\>[7]{}\Varid{return}\;[\mskip1.5mu \Varid{child1},\Varid{child2}\mskip1.5mu]{}\<[E]%
\\[\blanklineskip]%
\>[5]{}\Varid{expect}\mathbin{::}(\Varid{a}\to \Conid{Rational})\to \Conid{Dist}\;\Varid{a}\to \Conid{Rational}{}\<[E]%
\\
\>[5]{}\Varid{expect}\;\Varid{p}\;\Varid{xs}\mathrel{=}\frac{\Varid{sum}\;[\mskip1.5mu \Varid{p}\;\Varid{x}\times\Varid{xp}\mid (\Varid{x},\Varid{xp})\leftarrow \Varid{runDist}\;\Varid{xs}\mskip1.5mu]}{\Varid{sum}\;[\mskip1.5mu \Varid{xp}\mid (\anonymous ,\Varid{xp})\leftarrow \Varid{runDist}\;\Varid{xs}\mskip1.5mu]}{}\<[E]%
\\[\blanklineskip]%
\>[5]{}\Varid{probOf}\mathbin{::}(\Varid{a}\to \Conid{Bool})\to \Conid{Dist}\;\Varid{a}\to \Conid{Rational}{}\<[E]%
\\
\>[5]{}\Varid{probOf}\;\Varid{p}\mathrel{=}\Varid{expect}\;(\lambda \Varid{x}\to \textcolor{BlueViolet}{\textbf{if}}\;\Varid{p}\;\Varid{x}\;\textcolor{BlueViolet}{\textbf{then}}\;\mathrm{1}\;\textcolor{BlueViolet}{\textbf{else}}\;\mathrm{0}){}\<[E]%
\ColumnHook
\end{hscode}\resethooks
\end{frame}
\begin{frame}
  \begin{hscode}\SaveRestoreHook
\column{B}{@{}>{\hspre}l<{\hspost}@{}}%
\column{5}{@{}>{\hspre}l<{\hspost}@{}}%
\column{24}{@{}>{\hspre}l<{\hspost}@{}}%
\column{30}{@{}>{\hspre}c<{\hspost}@{}}%
\column{30E}{@{}l@{}}%
\column{33}{@{}>{\hspre}l<{\hspost}@{}}%
\column{43}{@{}>{\hspre}l<{\hspost}@{}}%
\column{52}{@{}>{\hspre}c<{\hspost}@{}}%
\column{52E}{@{}l@{}}%
\column{56}{@{}>{\hspre}l<{\hspost}@{}}%
\column{E}{@{}>{\hspre}l<{\hspost}@{}}%
\>[5]{}\Varid{probOf}\;(\Varid{all}\;((\equiv )\;{}\<[24]%
\>[24]{}\Conid{Girl}{}\<[30]%
\>[30]{}\mathbin{\circ}{}\<[30E]%
\>[33]{}\Varid{gender}))\;{}\<[43]%
\>[43]{}\Varid{mrJones}{}\<[52]%
\>[52]{}\equiv {}\<[52E]%
\>[56]{}\frac{\mathrm{1}}{\mathrm{2}}{}\<[E]%
\\
\>[5]{}\Varid{probOf}\;(\Varid{all}\;((\equiv )\;{}\<[24]%
\>[24]{}\Conid{Boy}{}\<[30]%
\>[30]{}\mathbin{\circ}{}\<[30E]%
\>[33]{}\Varid{gender}))\;{}\<[43]%
\>[43]{}\Varid{mrSmith}{}\<[52]%
\>[52]{}\equiv {}\<[52E]%
\>[56]{}\frac{\mathrm{1}}{\mathrm{3}}{}\<[E]%
\ColumnHook
\end{hscode}\resethooks
\end{frame}
\begin{frame}
  \begin{forest}
    [$1$
        [$\frac{1}{2}$
            [$\frac{1}{2}$ [{(True,True)}]]
            [$\frac{1}{2}$ [{(True,False)}]]]
        [$\frac{1}{2}$
            [$\frac{1}{2}$ [{(False,True)}]]
            [$\frac{1}{2}$ [{(False,False)}]]]]
  \end{forest}
  Theoretical Basis
  
\end{frame}
\end{document}

